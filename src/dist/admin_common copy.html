<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bruce</title>
  <link rel="shortcut icon" type="image/x-icon" href="../images/favicon.png">
  <link rel="stylesheet" href="../plugins/axicon/axicon.min.css">
  <link rel="stylesheet" href="../plugins/jquery-ui/themes/base/jquery-ui.min.css">
  <link rel="stylesheet" href="../plugins/jqueryui-timepicker-addon/dist/jquery-ui-timepicker-addon.min.css">
  <link rel="stylesheet" href="../plugins/jqueryui-timepicker-addon/dist/jquery.datetimepicker.css">
  <link rel="stylesheet" href="../plugins/jqGrid/css/ui.jqgrid.css">
  <link rel="stylesheet" href="../plugins/summernote/css/summernote-lite.css">
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="../css/sub.css">
  <link rel="stylesheet" href="../css/pop.css">

  <script src="../plugins/jquery/dist/jquery.min.js"></script>
  <script src="../plugins/jquery-ui/jquery-ui.min.js"></script>
  <script src="../plugins/jquery-ui/ui/i18n/datepicker-ko.js"></script>
  <script src="../plugins/jqueryui-timepicker-addon/dist/jquery-ui-timepicker-addon.min.js"></script>
  <script src="../plugins/jqueryui-timepicker-addon/dist/jquery.datetimepicker.full.min.js"></script>
  <script src="../plugins/jqueryui-timepicker-addon/dist/i18n/jquery-ui-timepicker-ko.js"></script>
  <script src="../plugins/jqGrid/js/jquery.jqGrid.min.js"></script>
  <script src="../plugins/jqGrid/js/i18n/grid.locale-kr.js"></script>
  <script src="../plugins/echarts/dist/echarts.min.js"></script>
  <script src="../js/file_attach.js"></script>
  <script src="../js/ui_common.js"></script>
</head>

<body>
  <!-- Contents -->
  <div class="wrapper">
    <div class="contents">
      <div class="tit">
        <div class="locate">
          <ul>
            <li>문자 보내기</li>
          </ul>
        </div>
        <h2 class="tit_h2">문자 보내기</h2>
      </div>
      <div class="wrap">
        <section>
          <h3 class="tit_h3">수신자</h3>
          <div class="box">
            <div class="flex_wrap f_sb">
              <div class="send_add">
                <input type="text">
                <button type="button" class="btn_s btn_gray">추가</button>
              </div>
              <div class="btn_wrap">
                <button type="button" class="btn_s btn_gray">PC파일 불러오기</button>
                <button type="button" class="btn_s btn_gray">그룹 불러오기</button>
              </div>
            </div>
            <div class="receiver_wrap flex_wrap f_sb">
              <ul>
                <li>
                  <span>+821234567891</span>
                  <i class="axi axi-close"></i>
                </li>
                <li>
                  <span>+821234567891</span>
                  <i class="axi axi-close"></i>
                </li>
              </ul>
            </div>
          </div>

          <script>
            // 수신자
            $('.axi-close').on('click', function () {
              $(this).parent('li').remove();
            })
            $('.receiver_wrap').on('click', function () {
              var parentUl = $(this).find('ul').children().length;
              if (parentUl < 1) {
                $(this).find('ul').remove();
              }
            })
          </script>

        </section>
        <section>
          <h3 class="tit_h3">내용</h3>
          <div class="box">
            <textarea id="sms_templete" class="text_example" title="text_example"
              onkeyup="fn_checkByte(this)">Lorem ipsum dolor sit amet, consectetur adipiscing elit</textarea>
            <div class="sendtext_wrap flex_wrap f_sb">
              <p class="byte_alert"><span id="nowByte">55</span>/90 bytes</p>
              <p>credit : <span></span></p>
              <div>
                <button type="button" class="btn_s btn_gray">예약</button>
                <button type="button" class="btn_s btn_gray">전송</button>
              </div>
            </div>

            <script>
              function fn_checkByte(obj) {
                const maxByte = 90; //최대 90바이트
                const text_val = obj.value; //입력한 문자
                const text_len = text_val.length; //입력한 문자수

                let totalByte = 0;
                for (let i = 0; i < text_len; i++) {
                  const each_char = text_val.charAt(i);
                  const uni_char = escape(each_char) //유니코드 형식으로 변환
                  if (uni_char.length > 4) {
                    // 한글 : 2Byte
                    totalByte += 2;
                  } else {
                    // 영문,숫자,특수문자 : 1Byte
                    totalByte += 1;
                  }
                }
                if (totalByte > maxByte) {
                  document.querySelector('.byte_alert').className = 'byte_alert lms';
                  document.getElementById("nowByte").innerText = totalByte;
                  document.getElementById("nowByte").style.color = "red";
                } else {
                  document.querySelector('.byte_alert').className = 'byte_alert';
                  document.getElementById("nowByte").innerText = totalByte;
                  document.getElementById("nowByte").style.color = "#3c7ed3";
                }
              }
            </script>

          </div>
        </section>
      </div>
    </div>
    <div class="slide_wrap">
  <div class="slide">
    <div class="flex_wrap f_sb util_user">
      <p><b>관리자</b>님</p>
    </div>
    <ul id="gnb">
      <li>
        <a href="admin_user01.html" class="depth1 on active">유저 관리</a>
        <ul class="depth2">
          <li><a href="admin_user01.html" class="on">유저 정보</a></li>
          <li><a href="admin_user02.html">문자 전송 내역</a></li>
          <li><a href="admin_user03.html">충전 내역</a></li>
          <li><a href="admin_user04.html">그룹 생성 내역</a></li>
        </ul>
      </li>
      <li>
        <a href="admin_payment.html" class="depth1 empty">결제 관리</a>
      </li>
      <li>
        <a href="admin_fill.html" class="depth1 empty">충전 내역</a>
      <li>
        <a href="admin_history.html" class="depth1 empty">문자 전송 내역</a>
      </li>
      <li>
        <a href="admin_notice.html" class="depth1 empty">공지사항</a>
      </li>
    </ul>
  </div>
  <div class="logout alignC">
    <button type="button" class="btn_m btn_skyblue" onclick="location.href='user_send.html'">User 전환</button>
    <button type="button" class="btn_m btn_green">로그아웃</button>
  </div>
  <div class="fix_wrap">
    <button type="button" class="btn_open"></button>
  </div>
</div>

<script> // slide menu button
  $('.btn_open').on('click', function () {
    $('.slide_wrap').toggleClass('on');
  })
</script>

   
  </div>
  <!-- // Contents -->
</body>

</html>