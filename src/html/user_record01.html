@@include('inc/top.html')

<body>
  <!-- Contents -->
  <div class="wrapper">
    <div class="contents">
      <div class="tit">
        <div class="locate">
          <ul>
            <li><a href="user_record01_1.html">전송내역</a></li>
            <li>문자 전송 내역</li>
          </ul>
        </div>
        <h2 class="tit_h2">문자 전송 내역</h2>
        <ul class="menu">
          <li class="on"><a href="user_record01_1.html">문자 전송 내역</a></li>
          <li><a href="user_record02.html">문자 예약 내역</a></li>
        </ul>
      </div>
      <div class="wrap">
        <section>
          <div class="table_wrap">
            <div class="tbl_tit">
              <h3 class="tit_h3">문자 전송 내역</h3>
              <div class="search_area">
                <ul class="search f_s">
                  <li>
                    <label for="date_timepicker_start">기간</label>
                    <span class="period period_multi">
                      <input type="text" id="date_timepicker_start" class="input_calendar" value="YYYY/MM/DD"
                        placeholder="기간 시작일 선택" title="기간 시작일 선택">
                      <input type="text" id="date_timepicker_end" class="input_calendar" value="YYYY/MM/DD"
                        placeholder="기간 종료일 선택" title="기간 종료일 선택">
                    </span>
                    <button type="button" class="btn_s btn_blue">조회</button>
                  </li>
                </ul>
              </div>
            </div>
            <div class="tbl_wrap row_10">
              <table id="jqGrid" class="jq-grid"></table>
              <div id="jqGridPager"></div>
            </div>
          </div>
        </section>
      </div>
    </div>

    <!-- 내용 보기 -->
    @@include('inc/p_record01_1.html')
    <!-- // 내용 보기 -->

    <!-- 수신자 보기 -->
    @@include('inc/p_record01_2.html')
    <!-- // 수신자 보기 -->

    @@include('inc/header.html')
  </div>
  <!-- // Contents -->
</body>

<script>

  var mydata = [
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" },
    { "t1": "2021-00-00 00:00:00", "t2": "100", "t3": "그룹 불러오기 = '그룹1'", "t4": "10000", "t5": "성공", "t6": "100", "t7": "0", "t8": "내용보기", "t9": "수신자보기" }
  ];
  $("#jqGrid").jqGrid({
    data: mydata,
    datatype: "local",
    colModel: [
      { label: '전송시간', name: 't1', align: 'center' },
      { label: '수신자 수', name: 't2', align: 'center' },
      { label: '수신자 지정', name: 't3', align: 'center' },
      { label: '사용크레딧', name: 't4', align: 'center' },
      { label: '발송여부', name: 't5', align: 'center', width: 100 },
      { label: '성공', name: 't6', align: 'center' },
      { label: '실패', name: 't7', align: 'center' },
      { label: '내용 보기', name: 't8', align: 'center', width: 100, formatter: detail },
      { label: '수신자 보기', name: 't9', align: 'center', width: 100, formatter: detail }
    ],
    loadonce: true,
    viewrecords: true,
    scrollOffset: true,
    gridview: true,
    pager: "#jqGridPager",
    autowidth: true,
    shrinkToFit: false,
    height: 298,
    rowNum: 10
  });

  // jqGrid : 창 크기 변경 시, 너비 자동 조절
  $(window).on('resize.jqGrid', function () {
    jQuery("#jqgrid").jqGrid('setGridWidth', $(".tbl_wrap").width());
  });

  function detail(cellValue, options, rowdata, action) {
    var html, txt = "";
    switch (cellValue) {
      case "수신자보기":
        txt = "recipient";
        break;
      case "내용보기":
        txt = "contents";
        break;
      case "연락처보기":
        txt = "address";
        break;
      default:
        txt = "none";
    }
    html = '<button type="button" class="axi btn_dtl btn_' + txt + '"></button>';
    return html;
  }

  $('.btn_contents').on('click', function () {
    $('.p_record01_1').show();
  })
  $('.btn_recipient').on('click', function () {
    $('.p_record01_2').show();
  })

</script>

</html>